> Event Loop & Task Queue

> JS主线程是一个厨师，
> 异步任务（比如fetch）是外包出去的工作（比如外卖小哥去拿菜），
> 厨师先记下单子，继续干别的，
> 等外卖小哥回来了（Promise resolve），再回来接着做那道菜
>

### QS1: await 的行为是什么？它阻塞的是什么？
> 写在前面,行为是暂停当前函数执行，但不阻塞整个线程。

> 需要分为两部分看
1. 当执行到await的时候
	- 把await后面的内容交给浏览器去异步执行
	- 暂停当前函数执行，把它拆成两段
此时async function 内部代码暂停，但 **主现场释放**去执行别的任务（比如渲染页面，响应点击事件）
2. Promise完成后，
	- 当拿到await返回`[数据and so on]`、返回Promise结果后，JS引擎会把await后面那段代码放进**微任务队列**
	- 当事件循环检测到主线程空了，就立即执行那段代码
> PS: 这里`去执行别等任务`就是异步的本质，在JS中，异步操作通常用Promise来实现，async/await只是Promise的语法糖，所谓`像同步代码的写法去写异步逻辑`

